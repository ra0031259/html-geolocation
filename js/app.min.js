var app=angular.module("APP",[]).config(["$logProvider",function($logProvider){$logProvider.debugEnabled(!0)}]);app.filter("ceil",function(){return function(input){return Math.ceil(input)}}),app.filter("abs",function(){return function(input){return Math.abs(input)}}),app.controller("mapController",function($scope,$http){mapboxgl.accessToken="pk.eyJ1IjoiZGdyb2RyaWd1ZXMiLCJhIjoiY2lwNWRubjQ1MDAxOXdla3NjMzl4Z3d2eSJ9.Fba4vzTyNq4mYFLwV46eyQ";var map=new mapboxgl.Map({container:"pois-map-container",style:"mapbox://styles/dgrodrigues/cip7gk0cr001qcunsv7gigsih",center:[-74.5,40],zoom:13});$scope.init_location=function(){navigator.geolocation.getCurrentPosition($scope.handle_location,$scope.handle_errors)},$scope.handle_errors=function(error){switch(error.code){case error.PERMISSION_DENIED:alert("user did not share geolocation data");break;case error.POSITION_UNAVAILABLE:alert("could not detect current position");break;case error.TIMEOUT:alert("retrieving position timed out");break;default:alert("unknown error")}},$scope.handle_location=function(position){map.setCenter([position.coords.latitude,position.coords.longitude])},navigator.geolocation?$scope.init_location():alert("no support")});