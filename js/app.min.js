function initMap(coords){var mapOptions={zoom:14,center:new google.maps.LatLng(coords.lat,coords["long"]),disableDefaultUI:!0,styles:[{featureType:"all",elementType:"geometry",stylers:[{color:"#262c33"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{gamma:.01},{lightness:20},{color:"#949aa6"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{saturation:-31},{lightness:-33},{weight:2},{gamma:"0.00"},{visibility:"off"}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"administrative.locality",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:30},{saturation:30},{color:"#353c44"},{visibility:"on"}]},{featureType:"poi",elementType:"geometry",stylers:[{saturation:"0"},{lightness:"0"},{gamma:"0.30"},{weight:"0.01"},{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{lightness:"100"},{saturation:-20},{visibility:"simplified"},{color:"#31383f"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:10},{saturation:-30},{color:"#2a3037"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:"-20"},{lightness:"-20"},{gamma:"0.00"},{color:"#2a3037"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"on"},{color:"#575e6b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#4c5561"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{lightness:-20},{color:"#171b1c"}]}]},mapElement=document.getElementById("pois-map-container"),map=new google.maps.Map(mapElement,mapOptions),marker=new google.maps.Marker({position:new google.maps.LatLng(coords.lat,coords["long"]),map:map,animation:google.maps.Animation.DROP,title:"Museu CR7"});google.maps.event.addListener(marker,"mouseover",function(){marker.setAnimation(google.maps.Animation.BOUNCE)}),google.maps.event.addListener(marker,"mouseout",function(){marker.setAnimation(null)})}var app=angular.module("APP",[]).config(["$logProvider",function($logProvider){$logProvider.debugEnabled(!0)}]);app.filter("ceil",function(){return function(input){return Math.ceil(input)}}),app.filter("abs",function(){return function(input){return Math.abs(input)}}),app.controller("mapController",function($scope,$http){$scope.init_location=function(){navigator.geolocation.getCurrentPosition($scope.handle_location,$scope.handle_errors)},$scope.handle_errors=function(error){switch($scope.init_map(41.149805,-8.61007),error.code){case error.PERMISSION_DENIED:console.log("user did not share geolocation data");break;case error.POSITION_UNAVAILABLE:console.log("could not detect current position");break;case error.TIMEOUT:console.log("retrieving position timed out");break;default:console.log("unknown error")}},$scope.handle_location=function(position){$scope.init_map(position.coords.latitude,position.coords.longitude)},$scope.init_map=function(lat,long){coords={lat:lat,"long":long},locationLoaded=!0,locationLoaded&&mapLoaded&&initMap(coords)},navigator.geolocation?$scope.init_location():$scope.init_map(41.149805,-8.61007)});